<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="/imgs/icon.png" width="24px" height="24px" type="image/x-icon" />

  <title>Cadastro de Receitas</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

  <link rel="stylesheet" href="/static/cadastro_receita.css">


</head>


<body>


  <header>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand" id="logo" href="/"><img src="{{ url_for('static', filename='/imgs/logo9.png') }}"
                    alt="Culinárioteca" width="50px" height="50px" title="Culinárioteca" /></a>



            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    {%  if not user %}
                    <li class="nav-item">
                        <a class="nav-link active" id="acesso" aria-current="page" href="/login"><svg
                                xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-person-check-fill" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="M15.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L12.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0" />
                                <path d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6" />
                            </svg>Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" id="acesso" aria-current="page"
                            href="/cadastro"><svg xmlns="http://www.w3.org/2000/svg"
                                width="16" height="16" fill="currentColor" class="bi bi-person-fill-add"
                                viewBox="0 0 16 16">
                                <path
                                    d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0m-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
                                <path
                                    d="M2 13c0 1 1 1 1 1h5.256A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1 1.544-3.393Q8.844 9.002 8 9c-5 0-6 3-6 4" />
                            </svg>cadastre-se</a>
                    </li>
                    {% else %}
                     <li class="nav-item">
                        <a class="nav-link active" id="acesso" id="cadastrar-receita" aria-current="page"
                            href="/dicas"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                                height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                                <path
                                    d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z" />
                                <path fill-rule="evenodd"
                                    d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z" />
                            </svg>Dicas</a>
                    </li> 
                
                        {% endif %}
                        </ul>
                    </li>
                    {% if user %}
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" id="acesso" href="#" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-file-plus" viewBox="0 0 16 16">
                                <path
                                    d="M8.5 6a.5.5 0 0 0-1 0v1.5H6a.5.5 0 0 0 0 1h1.5V10a.5.5 0 0 0 1 0V8.5H10a.5.5 0 0 0 0-1H8.5z" />
                                <path
                                    d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1" />
                            </svg>Mais
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="nav-item">
                                    <a class="nav-link active" id="acesso" aria-current="page"
                                        href="/templates/configuracoes.html"><svg xmlns="http://www.w3.org/2000/svg"
                                            width="16" height="16" fill="currentColor" class="bi bi-gear-fill"
                                            viewBox="0 0 16 16">
                                            <path
                                                d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z" />
                                        </svg>Configurações</a>


                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" id="acesso" aria-current="page"
                                    href="/perfil/{{ user[0] }}"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                                        height="16" fill="currentColor" class="bi bi-person-circle"
                                        viewBox="0 0 16 16">
                                        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
                                        <path fill-rule="evenodd"
                                            d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1" />
                                    </svg>Perfil</a>
                            </li>


                           
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" id="acesso" aria-current="page"
                                    href="/logout"><svg xmlns="http://www.w3.org/2000/svg" width="16"
                                        height="16" fill="currentColor" class="bi bi-box-arrow-right"
                                        viewBox="0 0 16 16">
                                        <path fill-rule="evenodd"
                                            d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z" />
                                        <path fill-rule="evenodd"
                                            d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z" />
                                    </svg>Sair</a>
                            </li>
                        </ul>
                    </li>
                    {% endif %}
                </ul>
                
            </div>
        </div>
    </nav>
</header>


  <h1>Cadastro de Receita</h1>

  <div class="container">


    <div class="titulo">
    

      <div class="dropzone">
        <h2>Carregar e anexar arquivos</h2>
        <form class="dropzone-box" id="form-receita">
          <div class="dropzone-area">
            <div class="file-upload-icon">

              <img src="/imgs/foto.svg"  width="50px" height="50px" alt="">
     
            </div>
            <p>Fazer upload de imagens, formatos: jpg, png, jpeg
            </p>
            <input type="file" id="imagens" name="imagens[]" multiple accept="image/*">


            <p class="message">Nenhum arquivo selecionado
            </p>
          </div>

        </form>

        <div id="file-list"></div>



        <script>
          document.getElementById('form-receita').addEventListener('submit', function (event) {
            event.preventDefault();
            var nome = document.getElementById('nome').value;
            var ingredientes = document.getElementById('ingredientes').value;
            var instrucoes = document.getElementById('instrucoes').value;

            // Captura dos arquivos de imagem
            var imagens = document.getElementById('imagens').files;
            var fileList = document.getElementById('file-list');

            // Limpa a lista de arquivos
            fileList.innerHTML = '';

            // Verifica se foram selecionadas até três imagens
            if (imagens.length > 3) {
              alert("Selecione no máximo três imagens.");
              return;
            }

            // Verifica se todas as imagens selecionadas são dos tipos permitidos
            for (var i = 0; i < imagens.length; i++) {
              var imagem = imagens[i];
              var extensao = imagem.name.split('.').pop().toLowerCase();
              if (extensao !== 'jpg' && extensao !== 'jpeg' && extensao !== 'png') {
                alert("Por favor, selecione apenas imagens do tipo jpg, jpeg ou png.");
                return;
              }

              // Cria um elemento de lista para cada arquivo selecionado
              var listItem = document.createElement('p');
              listItem.textContent = imagem.name;
              fileList.appendChild(listItem);
            }

            // Verifica se há vídeo anexado
            var videos = Array.from(imagens).filter(file => file.type.startsWith('video'));
            if (videos.length > 0) {
              alert("Por favor, selecione apenas imagens, vídeos não são permitidos.");
              return;
            }

            // Se todas as verificações passaram, você pode prosseguir com o envio do formulário ou fazer o que for necessário com os dados.
          });
        </script>

        <br>

        <form class="dropzone-box" id="form-receita-videos">
          <div class="dropzone-area" id="dropzone-area-video">
            <div class="file-upload-icon">
              <div class="file-upload-icon">
                             
                <img src="/imgs/video.svg" width="50px" height="50px" alt="">

              </div>
            </div>
            <p>Fazer upload de vídeo, formatos: mp4, mpeg4, flv, avi ou mkv</p>
            <input type="file" id="video" name="video"
              accept="video/mp4, video/mpeg4, video/flv, video/avi, video/x-matroska">

            <p class="message-video">Nenhum arquivo selecionado</p>
            <p id="nome-arquivo"></p>
          </div>
        </form>


        <script>
          document.getElementById('form-receita-videos').addEventListener('submit', function (event) {
            event.preventDefault();
            var video = document.getElementById('video').files[0]; // Apenas o primeiro arquivo é considerado

            // Verifica se um vídeo foi selecionado
            if (!video) {
              alert("Por favor, selecione um vídeo.");
              return;
            }

            // Verifica se o vídeo selecionado é de um tipo permitido
            var extensao = video.name.split('.').pop().toLowerCase();
            if (extensao !== 'mp4' && extensao !== 'mpeg4' && extensao !== 'flv' && extensao !== 'avi' && extensao !== 'mkv') {
              alert("Por favor, selecione um vídeo dos tipos mp4, mpeg4, flv, avi ou mkv.");
              return;
            }

            // Se todas as verificações passaram, você pode prosseguir com o envio do formulário ou fazer o que for necessário com os dados.
          });

          // Adicionei um evento 'change' para limpar a seleção de arquivos de vídeo se o usuário tentar anexar mais de um arquivo
          document.getElementById('video').addEventListener('change', function () {
            if (this.files.length > 1) {
              // Limpa a seleção de arquivos de vídeo
              this.value = '';
              // Alerta o usuário de que apenas um vídeo é permitido
              alert("Por favor, selecione apenas um vídeo.");
            } else if (this.files.length === 1) {
              // Atualiza o nome do arquivo selecionado
              document.getElementById('nome-arquivo').innerText = this.files[0].name;
              // Oculta a mensagem "Nenhum arquivo selecionado"
              document.querySelector('.message-video').style.display = 'none';
            }
          });
        </script>
      </div>



      <div class="nome">

        <label for="nome">Nome da Receita: </label>
        {{ form.titulo_receita }}
            {% for error in form.titulo_receita.errors %}
                <div class="error-message">{{ error }}</div>
            {% endfor %}
        <label for="ingredientes">Descrição:</label>
        {{ form.descricao_receita }}
        {% for error in form.descricao_receita.errors %}
            <div class="error-message">{{ error }}</div>
        {% endfor %}
        <label for="ingredientes">Ingredientes:</label>
        <textarea id="ingredientes" name="ingredientes" rows="4" required
          placeholder="Digite cada ingrediente em uma linha "></textarea>
        <label for="instrucoes">Instruções:</label>
        <textarea id="instrucoes" name="instrucoes" rows="4"
          placeholder="Digite o passo a passo da receita linha por linha" required></textarea>


      </div>
    </div>
  


    <div id="gerar_senha_tamanho">
      <label for="customRange1" class="form-label">Defina o tempo de cozimento: <span id="valor"> </span>
        minutos </label>
      <input type="range" class="form-range" id="customRange1" min="2" max="500" value="8">
    </div>

    <div class="dificuldade">
      <div class="textdificuldade">
        <p>Escolha a dificuldade:</p>
      </div>
      <div class="radio-inputs">
        <label class="radio">
          <input type="radio" name="radio" checked="">
          <span class="name">Fácil</span>
        </label>
        <label class="radio">
          <input type="radio" name="radio">
          <span class="name">Médio</span>
        </label>

        <label class="radio">
          <input type="radio" name="radio">
          <span class="name">Difícil</span>
        </label>
      </div>
    </div>

    <script>
      // temporizador
      let customRange1Element = document.querySelector("#customRange1");
      let sizeKey = document.querySelector("#valor");

      let charset = "";

      customRange1Element.addEventListener('input', function () {
        sizeKey.innerHTML = this.value;
      });
    </script>



    <p class="escolhacatedoria">Escolha a categoria:</p>


    <div id="filtro">

      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
        <label class="form-check-label" for="flexCheckDefault">
          Sem Glútem
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
        <label class="form-check-label" for="flexCheckDefault">
          Doces e Sobremesas
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
        <label class="form-check-label" for="flexCheckDefault">
          Bebidas e Drinks
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
        <label class="form-check-label" for="flexCheckDefault">
          Vegano
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
        <label class="form-check-label" for="flexCheckDefault">
          Massas
        </label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
        <label class="form-check-label" for="flexCheckDefault">
          Carnes
        </label>
      </div>
    </div>


    <div id="cadastrar">

      <input type="submit" value="Cadastrar Receita">
      <input type="submit" value="Limpar" onclick="limparCampos()" id="cancelar">

    </div>


    <script src="/js/script.js"></script>

    <div id="resultado"></div>


  </div>
  <footer>
    <p>Biblioteca de Receitas Culinárias &copy; 2024 - Todos os direitos reservados</p>
  </footer>











  <script src="/js/modo.-escuro.js"></script>
  <script src="/js/limparCampos.js"></script>
  <script src="/js/topFunction.js"></script>
</body>

</html>